"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[925],{925:function(e,n,s){s.r(n);var t=s(3433),r=s(9439),a=s(2791),i=s(184),c=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx\n");var u=function(e){var n=e.wsChannel,s=(0,a.useState)([]),c=(0,r.Z)(s,2),u=c[0],d=c[1];return(0,a.useEffect)((function(){n.addEventListener("message",(function(e){d((function(n){return[].concat((0,t.Z)(n),(0,t.Z)(JSON.parse(e.data)))}))}))}),[]),(0,i.jsx)("div",{style:{height:"400px",overflowY:"auto"},children:u.map((function(e,n){return(0,i.jsx)(o,{message:e},n)}))})},o=function(e){var n=e.message;return(0,i.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,i.jsx)("img",{style:{width:"50px"},src:n.photo}),(0,i.jsx)("div",{children:(0,i.jsx)("b",{children:n.message})}),(0,i.jsxs)("div",{children:["Author:",n.userName]})]})},d=function(){var e=(0,a.useState)(""),n=(0,r.Z)(e,2),s=n[0],t=n[1],u=(0,a.useState)("pending"),o=(0,r.Z)(u,2),d=o[0],l=o[1];(0,a.useEffect)((function(){c.addEventListener("open",(function(){l("ready")}))}),[]);return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:(0,i.jsx)("textarea",{onChange:function(e){return t(e.currentTarget.value)},value:s})}),(0,i.jsx)("button",{disabled:"ready"!==d,onClick:function(){s&&(c.send(s),t(""))},children:"Send"})]})},l=function(){return(0,a.useEffect)((function(){(c=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx\n")).addEventListener("close",(function(){console.log("Error")}))}),[]),(0,i.jsxs)("div",{children:[(0,i.jsx)(u,{wsChannel:c}),(0,i.jsx)(d,{})]})};n.default=function(){return(0,i.jsx)("div",{children:(0,i.jsx)(l,{})})}}}]);
//# sourceMappingURL=925.85192ed8.chunk.js.map